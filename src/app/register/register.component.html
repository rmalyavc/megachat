<div class="form_wrapper">
	<h2 class="text_header gray_text">Registration</h2>
	<form #login_form="ngForm">
		<div class="field_container">
			<input type="text" #name="ngModel" [class.invalid_field]="name.invalid && name.touched" name="login" class="form_field" placeholder="Login" [(ngModel)]="form_data.login" minlength="4" required>
			<span class="error_text" *ngIf="name.errors && name.errors.required && name.touched">
				Should not be empty
			</span>
			<span class="error_text" *ngIf="name.errors && name.errors.minlength && name.touched">
				Should be at least 4 characters length
			</span>
		</div>
		<div class="field_container">
			<input type="password" #password="ngModel" name="password" class="form_field" placeholder="Password" [class.invalid_field]="password.invalid && password.touched" [(ngModel)]="form_data.password" minlength="8" required>
			<span class="error_text" *ngIf="password.errors && password.errors.required && password.touched">
				Should not be empty
			</span>
			<span class="error_text" *ngIf="password.errors && password.errors.minlength && password.touched">
				Should be at least 8 characters length
			</span>
		</div>
		<div class="field_container">
			<input type="password" #password_confirmation="ngModel" name="password_confirmation" class="form_field" placeholder="Password Confirmation" [class.invalid_field]="password.invalid && password.touched" [(ngModel)]="form_data.password_confirmation" minlength="8" required>
			<span class="error_text" *ngIf="password_confirmation.errors && password_confirmation.errors.required && password_confirmation.touched">Should not be empty</span>
			<span class="error_text" *ngIf="password_confirmation.errors && password_confirmation.errors.minlength && password_confirmation.touched">Should be at least 8 characters length</span>
			<span class="error_text" *ngIf="password.valid && password_confirmation.valid && form_data.password != form_data.password_confirmation">Passwords should match</span>
		</div>
		<div class="field_container">
			<input type="email" pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$' #e_mail="ngModel" [class.invalid_field]="e_mail.invalid && e_mail.touched" name="email" class="form_field" placeholder="Email" [(ngModel)]="form_data.email" required>
			<span class="error_text" *ngIf="e_mail.errors && e_mail.errors.required && e_mail.touched">
				Should not be empty
			</span>
			<span class="error_text" *ngIf="e_mail.errors && e_mail.errors.pattern && e_mail.touched">
				Invalid Email
			</span>
		</div>
		<div class="field_container">
			<p class="text_header"><a routerLink="/login">Login</a></p>
		</div>
		<button class="main_button" type="button" [class.button_disabled]="name.invalid || password.invalid || password_confirmation.invalid || e_mail.invalid || form_data.password != form_data.password_confirmation"
		[disabled]="name.invalid || password.invalid || password_confirmation.invalid || e_mail.invalid || form_data.password != form_data.password_confirmation"
		(click)="register()">
			<strong class="button_text white_text">Register</strong>
		</button>
	</form>
	<h3 *ngIf="success" class="text_header green">
		We have sent a confirmation link to your email. Please finish your registration by following it.
	</h3>
	<p class="text_header error_text" *ngFor="let error of errors;">{{ error }}</p>
</div>